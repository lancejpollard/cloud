{
  "resource": {
    "aws_globalaccelerator_accelerator": {
      "world": {
        "name": "world",
        "ip_address_type": "IPV4",
        "enabled": true
      }
    },
    "aws_globalaccelerator_listener": {
      "world": {
        "accelerator_arn": "${aws_globalaccelerator_accelerator.world.id}",
        "client_affinity": "NONE",
        "protocol": "TCP",
        "port_range": {
          "from_port": 80,
          "to_port": 80
        }
      }
    },
    "aws_globalaccelerator_endpoint_group": {
      "world": {
        "listener_arn": "${aws_globalaccelerator_listener.world.id}",
        "endpoint_configuration": [
          {
            "endpoint_id": "${module.california.lb_arn}",
            "weight": 100
          },
          {
            "endpoint_id": "${module.oregon.lb_arn}",
            "weight": 100
          }
        ]
      }
    }
  },
  "module": {
    "california": {
      "source": "../california"
    },
    "oregon": {
      "source": "../oregon"
    }
  }
}
